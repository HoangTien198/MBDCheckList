<input type="hidden" id="Location" value="F06" />
@{
    ViewBag.Title = "Đơn xin nhu cầu vật liệu bất thường";
    Layout = "~/Areas/Shared/_AreaLayoutShare.cshtml";
    var user = (CPDCheckList.Web.Commons.AccountLogin)Session["USER_SESSION"];
}

@section styles{
    <!-- Vendor -->
    <link href="~/files/Content/vendor/Viewer JS/viewer.min.css" rel="stylesheet" />
    <!-- Custom -->
    <link href="~/Areas/SMT/Content/UnusualMatReq/UnusualMatReq.css" rel="stylesheet" />
}
<input type="hidden" data-role="@user.RoleId" data-id="@user.UserId" data-card="@user.UserCode" data-name="@user.Username" id="thisUser" />

<div class="page-wrapper">
    <div class="page-body">
        <div class="card mt-2">
            <div class="card-body p-0">
                <table id="table_MatReq" class="table table-bordered table-striped table-hover nowrap">
                    <thead class="text-center">
                        <tr>
                            <th>日期<br />Ngày</th><!-- 0 DaterReq -->
                            <th>機種<br />Tên hàng</th><!-- 1 ModelName-->
                            <th>單<br />Công lệnh</th><!-- 2 MO -->
                            <th>物料描述<br />Miêu tả vật liệu</th><!-- 3 MatDesc -->
                            <th>物料料號<br />Mã vật liệu</th><!-- 4 MatCode -->
                            <th>單位<br />Đơn vị</th><!--5 Unit -->
                            <th>本次超發申請<br />Số lượng xin phát</th><!-- 6 ActReqQty -->
                            <th>地位<br />Trạng thái</th><!-- 7 Status -->
                            <th>行动<br />Action</th><!-- 8 Action -->
                        </tr>
                    </thead>
                    <tbody id="table_MatReq-tbody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Add & Edit modal -->
<div class="modal fade" id="MatReqModal" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title text-center w-100">
                    <h3>'物料異常需求申請單 Đơn xin nhu cầu vật liệu bất thường V9</h3>
                </div>
                <button type="button" class="btn btn-outline-danger border-0 rounded-circle" data-bs-dismiss="modal" aria-label="Close"><i class="bi bi-x" style="font-size: 20px"></i></button>
            </div>
            <div class="modal-body" id="MatReqModal-body">
                <table class="table table-bordered table-lablesample" id="MatReqModalTable">
                    <thead>
                        <tr class="text-center text-middle bg-secondary-light">
                            <!-- 1  -->
                            <th>日期<br />Ngày</th>
                            <!-- 2  -->
                            <th style="width: 10%;">機種<br />Tên hàng</th>
                            <!-- 3  -->
                            <th style="width: 10%;">單<br />Công lệnh</th>
                            <!-- 4  -->
                            <th>物料描述<br />Miêu tả vật liệu</th>
                            <!-- 5  -->
                            <th style="width: 10%;">物料料號<br />Mã vật liệu</th>
                            <!-- 6  -->
                            <th>單位<br />Đơn vị</th>
                            <!-- 7  -->
                            <th style="width: 5%;">本次超發申請<br />Số lượng xin phát vượt lần này<br /><span class="text-primary">[A]</span></th>
                            <!-- 8  -->
                            <th style="width: 5%;">本次實際超發<br />Số lượng phát vượt thực tế lần này<br /><span class="text-primary">[B]</span></th>
                            <!-- 9  -->
                            <th>需求數量<br />Số lượng nhu cầu công lệnh<br /><span class="text-primary">[C]</span></th>
                            <!-- 10 -->
                            <th>實發數 量<br />Số lượng thực phát công lệnh<br /><span class="text-primary">[D]</span></th>
                            <!-- 11 -->
                            <th>總耗損數量<br />Tổng tổn thất nguyên vật liệu<br /><span class="text-primary">[E = D - C + A]</span></th>
                            <!-- 12 -->
                            <th>總耗損數量<br />Giá vật liệu (VND)<br /><span class="text-primary">[F]</span></th>
                            <!-- 13 -->
                            <th>總耗損數量<br />Tổng tiền vật liệu tổn thất (VND)<br /><span class="text-primary">[G = E * F]</span></th>
                            <!-- 14 -->
                            <th>需求原因<br />Nguyên nhân nhu cầu</th>
                            <!-- 15 -->
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="MatReqModalTable-tbody">
                        <tr id="NewItem-row">
                            <td colspan="15" id="NewItem-button" class="text-center"><button class="btn btn-outline-primary border-0 p-0"><i class="bi bi-plus-circle"></i> Add new</button></td>
                        </tr>
                    </tbody>
                </table>

                <h4 class="font-weight-light text-center py-3">LƯU TRÌNH KÝ</h4>
                <div class="form-check form-switch p-0 text-center">
                    <label class="form-check-label" for="flexSwitchCheckChecked">Đại trà</label>
                    <input class="form-check-input float-none mx-0 p-0" type="checkbox" id="type_select">
                    <label class="form-check-label" for="flexSwitchCheckChecked">NPI</label>
                </div>

                <div class="container py-2" >
                    <div class="row">
                        <div class="col-sm-8 py-2">
                            <div class="card border-primary shadow radius-15">
                                <div class="card-body">
                                    <div class="row mt-3">
                                        <div class="col-md-4">
                                            <label class="form-label">Mã thẻ</label>
                                            <input type="text" class="form-control" value="@user.UserCode" created-card disabled />
                                        </div>
                                        <div class="col-md-7">
                                            <label class="form-label">Người làm đơn</label>
                                            <input type="text" class="form-control" value="@user.Username" created-name disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-1 text-center flex-column d-none d-sm-flex">
                            <div class="row h-50">
                                <div class="col ">&nbsp;</div>
                                <div class="col">&nbsp;</div>
                            </div>
                            <h5 class="m-2 red-dot">
                                <span class="badge rounded-pill bg-success">&nbsp;</span>
                            </h5>
                            <div class="row h-50">
                                <div class="col border-end">&nbsp;</div>
                                <div class="col">&nbsp;</div>
                            </div>
                        </div>
                        <div class="col-sm"></div>
                    </div>
                    <div id="sign-container">

                    </div>
                </div>

                <div class="d-flex justify-content-center">
                    <button class="btn btn-primary" id="add_sign">Add Sign</button>
                </div>

            </div>
            <div class="modal-footer justify-content-end">
                <button type="button" class="btn btn-sm btn-primary" id="MatReqModal-btnSave">添新 Thêm mới</button>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <!-- Vendor -->
    <script src="~/Areas/Lable/Content/vendor/MomentJs/moment.js"></script>
    <script src="~/files/Content/vendor/Viewer JS/viewer.min.js"></script>
    <!-- Custom -->
    <script src="~/Areas/SMT/Content/UnusualMatReq/UnusualMatReq.js"></script>
}

