
@{
    ViewBag.Title = "Lable Data Flow";
    Layout = "~/Areas/Shared/_AreaLayoutShare.cshtml";
}

@section styles{
    <!-- Vendor -->
    <!-- Custom -->
    <link href="~/files/Content/Custom/DataFlow/DataFlow.css" rel="stylesheet" />
}

<div class="page-wrapper">
    <div class="page-body">
        <div class="card mt-2">
            <div class="card-body p-0">
                <table id="table_DataFlow" class="table table-striped table-bordered nowrap">
                    <thead class="text-center">
                        <tr class="border-top-0">
                            <th class="text-center border-left-0" rowspan="2">日期</br>Ngày</th>
                            <th class="text-center" rowspan="2">班別</br>Ca</th>
                            <th class="text-center" rowspan="2">MO</br>Công lệnh</th>
                            <th class="text-center" rowspan="2">機種名稱</br>Tên sản phẩm</th>
                            <th class="text-center" rowspan="2">MO 總數量</br>Tổng công lệnh</th>
                            <th class="text-center" rowspan="2">Label 料號</br>Mã liệu Lable</th>
                            <th class="text-center" rowspan="2">Lable 列印</br>Bảng ghi chép</th>
                            <th class="text-center" rowspan="2">列印</br>Người in</th>
                            <th class="text-center" rowspan="2">地位</br>Trạng thái</th>
                            <th class="text-center border-right-0" rowspan="2"></th>
                        </tr>
                    </thead>
                    <tbody id="tbody_DataFlow">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>



<!-- Add & Edit modal -->
<div class="modal fade" id="DataFlowModal" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title text-center w-100">
                    <h3>Labe 流水号登记表</h3>
                    <h4>Biểu lưu trình dữ liệu Lable</h4>
                </div>
               
                <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal" aria-label="Close"><i class="bi bi-x" style="font-size: 20px"></i></button>
            </div>
            <div class="modal-body p-0" id="formData">
                <!-- hidden Data-->
                <input type="hidden" name="Location" value="@ViewBag.Location" />

                <!-- Data -->
                <table class="table table-bordered table-form">
                    <thead>
                        <tr>
                            <th class="text-center">日期</br>Ngày</th>
                            <th class="text-center">班別</br>Ca</th>
                            <th class="text-center">MO</br>Công lệnh</th>
                            <th class="text-center">機種名稱</br>Tên sản phẩm</th>
                            <th class="text-center">MO 總數量</br>Tổng công lệnh</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr class="align-middle" style="height: 80px">
                            <td class="table-input">
                                <input type="datetime-local" class="form-control" name="DateTime">
                            </td>
                            <td class="table-input">
                                <select type="text" class="form-control" name="Shift">
                                    <option value="D">Ngày</option>
                                    <option value="N">Đêm</option>
                                </select>
                            </td>
                            <td class="table-input">
                                <input type="text" class="form-control" name="MO" maxlength="25">
                            </td>
                            <td class="table-input">
                                <input type="text" class="form-control" name="ProductName" maxlength="50">
                            </td>
                            <td class="table-input">
                                <input type="number" class="form-control" name="MO_Num">
                            </td>

                        </tr>
                    </tbody>
                </table>

                <table class="table table-bordered table-form">
                    <thead>
                        <tr>
                            <th class="text-center" rowspan="2">Label 料號</br>Mã liệu Lable</th>
                            <th class="text-center" rowspan="1" colspan="2">流水號</br>Số lưu trình</th>
                            <th class="text-center" rowspan="2">Lable 列印數量</br>Số lượng in Lable</th>
                            <th class="text-center" rowspan="2">MO 實際列印数量<br>Số lượng công lệnh in</th>
                        </tr>
                        <tr>
                            <th class="text-center position-relative child-col" rowspan="1">
                                <label class="d-block">起始號<br />Số đầu</label>
                                <button type="button" class="btn button-right" id="BeginCodeImageButton"><i class="bi bi-camera-fill"></i></button>
                            </th>
                            <th class="text-center position-relative child-col" rowspan="1">
                                <label class="d-block">結凍號<br />Số kết thúc</label>
                                <button type="button" class="btn button-right" id="EndCodeImageButton"><i class="bi bi-camera-fill"></i></button>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="align-middle" style="height: 80px">
                            <td class="table-input">
                                <input type="text" class="form-control" name="LableCode" maxlength="25">
                            </td>
                            <td class="table-input position-relative">
                                <input type="text" class="form-control" name="BeginCode" maxlength="25">
                                <input type="file" class="d-none" id="BeginCodeImageFile" />
                                <div class="previewContainer"></div>
                                <button class="deleteButton" style="display: none; "><i class="bi bi-x-circle"></i></button>
                            </td>
                            <td class="table-input position-relative">
                                <input type="text" class="form-control" name="EndCode" maxlength="25">
                                <input type="file" class="d-none" id="EndCodeImageFile" />
                                <div class="previewContainer">
                                    <img class="previewImage" src="~/Content/Image/Backgrounds/1.jpg" />
                                </div>
                                <button class="deleteButton" style="display: block;"><i class="bi bi-x-circle"></i></button>
                            </td>
                            <td class="table-input">
                                <input type="number" class="form-control" name="LablePrintNum">
                            </td>
                            <td class="table-input">
                                <input type="number" class="form-control" name="MOPrintNum">
                            </td>
                        </tr>
                    </tbody>
                </table>

                <table class="table table-bordered m-0 table-form">
                    <thead>
                        <tr>
                            <th class="text-center">Lable 列印</br>Bảng ghi chép</th>
                            <th class="text-center">列印員</br>Người in</th>
                            <th class="text-center">線長檢</br>Truyền trưởng kiểm tra</th>
                            <th class="text-center">IPQC 檢查</br>IPQC kiểm tra</th>
                            <th class="text-center">備註</br>Ghi chú</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="table-input">
                                <input type="text" class="form-control" name="LableTable" maxlength="10">
                            </td>
                            <td class="text-center approved">
                                <label>Mã thẻ - Tên</label>
                                <label><b>原因 Lý do: </b>Đoán xem</label>
                            </td>
                            <td>
                            </td>
                            <td>
                            </td>
                            <td contenteditable="true" name="Note"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer justify-content-end">
                <button type="button" class="btn btn-primary" id="SaveBtn" onclick="SaveLableDataFlow()">添新 Thêm mới</button>
            </div>
        </div>
    </div>
</div>


@section scripts{
    <!-- Vendor -->
    <script src="~/files/Content/vendor/MomentJs/moment.js"></script>
    <!-- Custom -->
    <script src="~/files/assets/js/common-pages.js"></script>
    <script src="~/files/Content/Custom/DataFlow/DataFlow.js"></script>
}